{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmPopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/auth.js","images/successIcon.svg","images/errorIcon.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","email","onSignOut","className","src","logo","alt","path","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardLike","onCardDelete","onCardClick","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","link","name","type","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","title","avatar","about","map","Footer","Date","getFullYear","ImagePopup","onClose","api","apiOptions","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","data","body","JSON","stringify","cardId","id","authorization","PopupWithForm","children","isOpen","onSubmit","isSaving","buttonText","noValidate","disabled","EditProfilePopup","onUpdateUser","useEffect","setName","setDescription","useState","description","e","preventDefault","value","onChange","target","minLength","maxLength","placeholder","required","EditAvatarPopup","onUpdateAvatar","avatarUser","useRef","current","autoComplete","ref","AddPlacePopup","image","setImage","ConfirmPopup","onConfirm","ProtectedRoute","Component","component","props","isLoggedIn","withRouter","onLogin","setEmail","password","setPassword","onRegister","InfoTooltip","message","img","text","BASE_URL","getResponseData","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","isInfoTooltipPopupOpen","setIsInfoTooltipPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setInitialCards","setIsSaving","deletedCard","setDeletedCard","setMessage","history","useHistory","setIsLoggedIn","closeAllPopups","handleInfoTooltipContent","all","getUserProfile","getInitialCards","catch","err","console","log","handleTokenCheck","token","jwt","localStorage","getItem","Authorization","push","Provider","removeItem","exact","changeLikeCardStatus","newCard","state","c","auth","setItem","successIcon","setTimeout","errorIcon","setUserProfile","finally","postNewCard","setUserAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04c2da2c.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import React from \"react\";\r\nimport logo from \"../images/logo.svg\";\r\nimport { Route, Link, Switch } from \"react-router-dom\";\r\n\r\nfunction Header({ email, onSignOut }) {\r\n  return (\r\n    <header className='header'>\r\n      <img className='logo' src={logo} alt='Место' />\r\n      <div className='header__container'>\r\n        <Switch>\r\n          <Route path='/sign-up'>\r\n            <Link to='/sign-in' className='btn-link'>\r\n              Войти\r\n            </Link>\r\n          </Route>\r\n          <Route path='/sign-in'>\r\n            <Link to='/sign-up' className='btn-link'>\r\n              Зарегистрироваться\r\n            </Link>\r\n          </Route>\r\n          <Route path='/'>\r\n            <p className='header__email'>{email}</p>\r\n            <Link to='/sign-in' className='btn-link' onClick={onSignOut}>\r\n              Выход\r\n            </Link>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Card({ card, onCardLike, onCardDelete, onCardClick }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = card.owner._id === currentUser._id;\r\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n  const cardDeleteButtonClassName = `element__delete-icon ${\r\n    isOwn ? \"element__delete-icon\" : \"\"\r\n  }`;\r\n  const cardLikeButtonClassName = `element__like ${\r\n    isLiked ? \"element__like_active\" : \"\"\r\n  }`;\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(card);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(card);\r\n  }\r\n\r\n  function handleClick() {\r\n    onCardClick(card);\r\n  }\r\n\r\n  return (\r\n    <li className='element'>\r\n      <div onClick={handleClick}>\r\n        <img className='element__photo' src={card.link} alt={card.name} />\r\n      </div>\r\n      {isOwn && <button\r\n        className={cardDeleteButtonClassName}\r\n        type='button'\r\n        aria-label='Удалить'\r\n        onClick={handleDeleteClick}\r\n      ></button> }\r\n      <div className='element__footer'>\r\n        <h2 className='element__subtitle'>{card.name}</h2>\r\n        <div className='element__likes-container'>\r\n          <button\r\n            className={cardLikeButtonClassName}\r\n            type='button'\r\n            aria-label='Лайк'\r\n            onClick={handleLikeClick}\r\n          ></button>\r\n          <span className='element__count-likes'>{card.likes.length}</span>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction Main({\r\n  onEditAvatar,\r\n  onEditProfile,\r\n  onAddPlace,\r\n  onCardLike,\r\n  onCardDelete,\r\n  onCardClick,\r\n  cards,\r\n}) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className='content'>\r\n      <section className='profile'>\r\n        <div className='profile__avatar-container'>\r\n          <button\r\n            className='profile__avatar-change'\r\n            type='button'\r\n            title='Изменить аватар'\r\n            aria-label='Изменить аватар'\r\n            onClick={onEditAvatar}\r\n          >\r\n            <img\r\n              className='profile__avatar'\r\n              src={currentUser.avatar}\r\n              alt='Фото профиля'\r\n            />{\" \"}\r\n          </button>\r\n        </div>\r\n\r\n        <div className='profile__info'>\r\n          <h1 className='profile__title'>{currentUser.name}</h1>\r\n          <button\r\n            className='profile__edit-button'\r\n            type='button'\r\n            title='Редактировать'\r\n            aria-label='Редактировать'\r\n            onClick={onEditProfile}\r\n          ></button>\r\n          <p className='profile__subtitle'>{currentUser.about}</p>\r\n        </div>\r\n\r\n        <button\r\n          className='profile__add-button'\r\n          type='button'\r\n          title='Добавить карточку'\r\n          aria-label='Добавить карточку'\r\n          onClick={onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <section className='elements'>\r\n        <ul className='elements__container'>\r\n          {cards.map((card) => (\r\n            <Card\r\n              card={card}\r\n              key={card._id}\r\n              onCardLike={onCardLike}\r\n              onCardDelete={onCardDelete}\r\n              onCardClick={onCardClick}\r\n            />\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className='footer'>\r\n      <p className='footer__copyright'>&copy;{new Date().getFullYear()} Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n  return (\r\n    <div\r\n      className={`popup popup_type_image ${card.link ? \"popup_opened\" : \"\"}`}\r\n    >\r\n      <figure className='photo'>\r\n        <button\r\n          className='popup__close'\r\n          type='button'\r\n          aria-label='Закрыть попап'\r\n          onClick={onClose}\r\n        ></button>\r\n        <img className='photo__item' src={card.link} alt={card.name} />\r\n        <figcaption className='photo__subtitle'>{card.name}</figcaption>\r\n      </figure>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n  constructor(apiOptions) {\r\n    this._baseUrl = apiOptions.baseUrl;\r\n    this._headers = apiOptions.headers;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n      return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}/cards`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  getUserProfile() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"GET\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  setUserProfile(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(data),\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n      method: \"DELETE\",\r\n      headers: this._headers,\r\n    }).then(this._getResponseData);\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n        method: \"PUT\",\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    } else {\r\n      return fetch(`${this._baseUrl}/cards/likes/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: this._headers,\r\n      }).then(this._getResponseData);\r\n    }\r\n  }\r\n\r\n  setUserAvatar(avatar) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: \"PATCH\",\r\n      headers: this._headers,\r\n      body: JSON.stringify(avatar),\r\n    }).then(this._getResponseData);\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-21\",\r\n  headers: {\r\n    authorization: \"5f8b754d-d9bd-4968-8e18-8ef729e76020\",\r\n    \"content-type\": \"application/json\",\r\n  },\r\n});\r\n","import React from \"react\";\r\n\r\nfunction PopupWithForm({\r\n  children,\r\n  isOpen,\r\n  title,\r\n  onSubmit,\r\n  isSaving,\r\n  onClose,\r\n  buttonText,\r\n}) {\r\n  return (\r\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className='popup__container'>\r\n        <h2 className='popup__title'>{title}</h2>\r\n        <form className='popup__form' onSubmit={onSubmit} noValidate>\r\n          {children}\r\n          <button\r\n            className='popup__button'\r\n            type='submit'\r\n            disabled={isSaving ? true : false}\r\n          >\r\n            {isSaving ? \"Загрузка...\" : buttonText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          className='popup__close popup__close_type_edit'\r\n          type='button'\r\n          aria-label='Закрыть форму'\r\n          onClick={onClose}\r\n        ></button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ onUpdateUser, isOpen, onClose, isSaving }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name: name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Редактировать профиль'\r\n      buttonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isSaving={isSaving}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name || \"\"}\r\n        onChange={handleChangeName}\r\n        className='popup__input popup__input_type_profile-name'\r\n        type='text'\r\n        id='profile-name'\r\n        name='name'\r\n        minLength='2'\r\n        maxLength='40'\r\n        placeholder='Имя'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='profile-name-error'></span>\r\n      </div>\r\n\r\n      <input\r\n        value={description || \"\"}\r\n        onChange={handleChangeDescription}\r\n        className='popup__input popup__input_type_profile-job'\r\n        type='text'\r\n        id='profile-job'\r\n        name='job'\r\n        minLength='2'\r\n        maxLength='200'\r\n        placeholder='О себе'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='profile-job-error'></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, isSaving, onUpdateAvatar }) {\r\n  const avatarUser = React.useRef();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarUser.current.value,\r\n    });\r\n    \r\n  }\r\n\r\n  React.useEffect(() => {\r\n    avatarUser.current.value = \"\";\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Обновить аватар'\r\n      buttonText='Сохранить'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isSaving={isSaving}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        className='popup__input popup__input_type_avatar-link'\r\n        type='url'\r\n        id='avatar-link'\r\n        name='avatar-image'\r\n        autoComplete='on'\r\n        placeholder='Ссылка на картинку'\r\n        ref={avatarUser}\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='avatar-link-error'></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ onAddPlace, isOpen, onClose, isSaving }) {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [image, setImage] = React.useState(\"\");\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setImage(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onAddPlace({\r\n      name: name,\r\n      link: image,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(\"\");\r\n    setImage(\"\");\r\n  }, [isOpen])\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Новое место'\r\n      buttonText='Создать'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      isSaving={isSaving}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <input\r\n        value={name}\r\n        onChange={handleChangeName}\r\n        className='popup__input popup__input_type_card-name'\r\n        type='text'\r\n        id='card-name'\r\n        name='image-name'\r\n        placeholder='Название'\r\n        minLength='2'\r\n        maxLength='30'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='card-name-error'></span>\r\n      </div>\r\n      <input\r\n        value={image}\r\n        onChange={handleChangeDescription}\r\n        className='popup__input popup__input_type_card-link'\r\n        type='url'\r\n        id='card-link'\r\n        name='link'\r\n        autoComplete='on'\r\n        placeholder='Ссылка на картинку'\r\n        required\r\n      />\r\n      <div className='popup__error-container'>\r\n        <span className='popup__input-error' id='card-link-error'></span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction ConfirmPopup({ isOpen, onClose, isSaving, onConfirm }) {\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onConfirm();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      title='Вы уверены?'\r\n      buttonText='Да'\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isSaving={isSaving}\r\n    />\r\n  );\r\n}\r\n\r\nexport default ConfirmPopup;\r\n","import React from \"react\";\r\nimport { Redirect, Route } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to='/sign-in' />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nfunction Login({ onLogin }) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onLogin(email, password);\r\n  }\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Вход</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit} noValidate>\r\n        <input\r\n          className='auth__input'\r\n          value={email}\r\n          type='email'\r\n          placeholder='Email'\r\n          onChange={handleChangeEmail}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          value={password}\r\n          type='password'\r\n          placeholder='Пароль'\r\n          onChange={handleChangePassword}\r\n        />\r\n        <button className='auth__button'>Войти</button>\r\n        <p className='auth__subtitle'>\r\n          Еще не зарегистрированы?{\" \"}\r\n          <Link className='btn-link' to='/sign-up'>\r\n            Зарегистрироваться\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nfunction Register({ onRegister }) {\r\n  const [email, setEmail] = React.useState(\"\");\r\n  const [password, setPassword] = React.useState(\"\");\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    onRegister(email, password);\r\n  }\r\n\r\n  return (\r\n    <div className='auth'>\r\n      <h2 className='auth__title'>Регистрация</h2>\r\n      <form className='auth__form' onSubmit={handleSubmit}>\r\n        <input\r\n          className='auth__input'\r\n          type='email'\r\n          value={email}\r\n          placeholder='Email'\r\n          onChange={handleChangeEmail}\r\n        />\r\n        <input\r\n          className='auth__input'\r\n          type='password'\r\n          placeholder='Пароль'\r\n          value={password}\r\n          onChange={handleChangePassword}\r\n        />\r\n        <button className='auth__button'>Зарегистрироваться</button>\r\n        <p className='auth__subtitle'>\r\n          Уже зарегистрированы?{\" \"}\r\n          <Link className='btn-link' to='/sign-in'>\r\n            Войти\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","function InfoTooltip({ onClose, isOpen, message }) {\r\n  return (\r\n    <div className={`popup ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n      <div className='popup__container'>\r\n        <img src={message.img} alt='Регистрация' className='popup__auth-img' />\r\n        <p className='popup__subtitle'>{message.text}</p>\r\n        <button\r\n          className='popup__close'\r\n          type='button'\r\n          aria-label='Закрыть форму'\r\n          onClick={onClose}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","const BASE_URL = \"https://auth.nomoreparties.co\";\r\nconst headers = { \"Content-Type\": \"application/json\" };\r\n\r\nfunction getResponseData(res) {\r\n  if (!res.ok) {\r\n    return Promise.reject(`Ошибка: ${res.status}`);\r\n  }\r\n  return res.json();\r\n}\r\n\r\nexport function getRegister(password, email) {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: \"POST\",\r\n    headers: headers,\r\n    body: JSON.stringify({ password, email }),\r\n  }).then(getResponseData);\r\n}\r\n\r\nexport function getLogin(email, password) {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: \"POST\",\r\n    headers: headers,\r\n    body: JSON.stringify({ email, password }),\r\n  })\r\n    .then((data) => {\r\n      return data;\r\n    })\r\n    .then(getResponseData);\r\n}\r\nexport function checkToken(token) {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: \"GET\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n    .then((data) => data)\r\n    .then(getResponseData);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/successIcon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/errorIcon.df8eddf6.svg\";","import React from \"react\";\r\nimport { Switch, Route, Redirect, useHistory } from \"react-router-dom\";\r\nimport \"../index.css\";\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport { api } from \"../utils/api.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport ConfirmPopup from \"./ConfirmPopup\";\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport Login from \"./Login\";\r\nimport Register from \"./Register\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport * as auth from \"../utils/auth\";\r\nimport successIcon from \"../images/successIcon.svg\";\r\nimport errorIcon from \"../images/errorIcon.svg\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] =\r\n    React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] =\r\n    React.useState(false);\r\n  const [isConfirmPopupOpen, setIsConfirmPopupOpen] = React.useState(false);\r\n  const [isInfoTooltipPopupOpen, setIsInfoTooltipPopupOpen] =\r\n    React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setInitialCards] = React.useState([]);\r\n  const [isSaving, setIsSaving] = React.useState(false);\r\n  const [deletedCard, setDeletedCard] = React.useState({});\r\n  const [message, setMessage] = React.useState({ img: \"\", text: \"\" });\r\n  const history = useHistory();\r\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\r\n  const [email, setEmail] = React.useState(\"\");\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserProfile(), api.getInitialCards()])\r\n      .then(([data, cards]) => {\r\n        setCurrentUser(data);\r\n        setInitialCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setInitialCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsConfirmPopupOpen(false);\r\n    setIsInfoTooltipPopupOpen(false);\r\n    setSelectedCard({});\r\n    setDeletedCard({});\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n  }\r\n\r\n  function handleDeleteClick(card) {\r\n    setIsConfirmPopupOpen(true);\r\n    setDeletedCard(card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    setIsSaving(true);\r\n\r\n    api\r\n      .deleteCard(deletedCard._id)\r\n\r\n      .then(() => {\r\n        setInitialCards((cards) =>\r\n          cards.filter((c) => c._id !== deletedCard._id)\r\n        );\r\n      })\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    setIsSaving(true);\r\n    api\r\n      .setUserProfile(data)\r\n      .then((data) => setCurrentUser(data))\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setIsSaving(true);\r\n    api\r\n      .setUserAvatar(avatar)\r\n      .then((avatar) => setCurrentUser(avatar))\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  function handleAddPlaceSubmit(card) {\r\n    setIsSaving(true);\r\n    api\r\n      .postNewCard(card)\r\n      .then((card) => setInitialCards([card, ...cards]))\r\n      .then(() => closeAllPopups())\r\n      .catch((err) => console.log(err))\r\n      .finally(() => setIsSaving(false));\r\n  }\r\n\r\n  function handleInfoTooltipContent({ img, text }) {\r\n    setMessage({ img: img, text: text });\r\n  }\r\n\r\n  function onRegister(email, password) {\r\n    auth\r\n      .getRegister(password, email)\r\n      .then(() => {\r\n        handleInfoTooltipContent({\r\n          img: successIcon,\r\n          text: \"Вы успешно зарегистрировались!\",\r\n        });\r\n\r\n        setIsInfoTooltipPopupOpen(true);\r\n        history.push(\"/sign-in\");\r\n        setTimeout(closeAllPopups, 2500);\r\n      })\r\n      .catch((err) => {\r\n        handleInfoTooltipContent({\r\n          img: errorIcon,\r\n          text: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n        });\r\n        setIsInfoTooltipPopupOpen(true);\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function onLogin(email, password) {\r\n    auth\r\n      .getLogin(email, password)\r\n      .then((data) => {\r\n        localStorage.setItem(\"jwt\", data.token);\r\n        setIsLoggedIn(true);\r\n        setEmail(email);\r\n        history.push(\"/\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.status);\r\n        if (err.status === 400) {\r\n          return console.log(\"не передано одно из полей\");\r\n        } else if (err.status === 401) {\r\n          return console.log(\"пользователь с email не найден\");\r\n        }\r\n        return console.log(err.status);\r\n      });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    handleTokenCheck();\r\n  }, []);\r\n\r\n  const handleTokenCheck = () => {\r\n    const jwt = localStorage.getItem(\"jwt\");\r\n    if (jwt) {\r\n      auth\r\n        .checkToken(jwt)\r\n        .then((data) => {\r\n          if (data) {\r\n            setEmail(data.data.email);\r\n            setIsLoggedIn(true);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err.status);\r\n          if (err.status === 401) {\r\n            return console.log(\"Переданный токен некорректен \");\r\n          } else if (!jwt) {\r\n            return console.log(\"Токен не передан или передан не в том формате\");\r\n          }\r\n          return console.log(\"error 500\");\r\n        });\r\n    }\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    if (isLoggedIn) {\r\n      history.push(\"/\");\r\n    }\r\n  }, [isLoggedIn, history]);\r\n\r\n  function onSignOut() {\r\n    localStorage.removeItem(\"jwt\");\r\n    setIsLoggedIn(false);\r\n    setEmail(\"\");\r\n    history.push(\"/sign-in\");\r\n  }\r\n\r\n  return (\r\n    <div className='page'>\r\n      <div className='page__container'>\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n          <Header onSignOut={onSignOut} email={email} />\r\n\r\n          <Switch>\r\n            <ProtectedRoute\r\n              exact\r\n              path='/'\r\n              component={Main}\r\n              isLoggedIn={isLoggedIn}\r\n              onEditAvatar={handleEditAvatarClick}\r\n              onEditProfile={handleEditProfileClick}\r\n              onAddPlace={handleAddPlaceClick}\r\n              cards={cards}\r\n              onCardLike={handleCardLike}\r\n              onCardDelete={handleDeleteClick}\r\n              onCardClick={handleCardClick}\r\n            />\r\n\r\n            <Route path='/sign-in'>\r\n              <Login onLogin={onLogin} />\r\n            </Route>\r\n            <Route path='/sign-up'>\r\n              <Register onRegister={onRegister} />\r\n            </Route>\r\n            <Route path='/'>\r\n              {isLoggedIn ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\r\n            </Route>\r\n          </Switch>\r\n\r\n          {isLoggedIn && <Footer />}\r\n\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            isSaving={isSaving}\r\n          />\r\n\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            isSaving={isSaving}\r\n          />\r\n\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            isSaving={isSaving}\r\n          />\r\n\r\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} />\r\n\r\n          <ConfirmPopup\r\n            isOpen={isConfirmPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onConfirm={handleCardDelete}\r\n            isSaving={isSaving}\r\n          />\r\n\r\n          <InfoTooltip\r\n            isOpen={isInfoTooltipPopupOpen}\r\n            onClose={closeAllPopups}\r\n            message={message}\r\n          />\r\n        </CurrentUserContext.Provider>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}